(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{7077:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return e(9634)}])},9634:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return _}});var c=e(5893),i=e(9239);e(4857);var o=e(8583),s=e(9008),a=e.n(s),l=e(1664),r=e.n(l),d=e(1163),u=e(7294),h=e(5371),m=e(7251),j=n=>{let{baseURL:t,fetch:e}=n,c=(void 0===t?"/":t).replace(/\/$/,""),i="/githubActivity.json",o="/info.json",s="/members/memberList";return{members:{_memberId:n=>{let t="".concat("/members","/").concat(n);return{githubActivity_json:{get:n=>e(c,"".concat(t).concat(i),"GET",n).json(),$get:n=>e(c,"".concat(t).concat(i),"GET",n).json().then(n=>n.body),$path:()=>"".concat(c).concat(t).concat(i)},info_json:{get:n=>e(c,"".concat(t).concat(o),"GET",n).json(),$get:n=>e(c,"".concat(t).concat(o),"GET",n).json().then(n=>n.body),$path:()=>"".concat(c).concat(t).concat(o)}}},memberList:{get:n=>e(c,s,"GET",n).json(),$get:n=>e(c,s,"GET",n).json().then(n=>n.body),$path:()=>"".concat(c).concat(s)}}}},f=e(6841),b=e.n(f),_=()=>{let[n]=(0,o.KO)(h.L),t=(0,d.useRouter)(),[e,s]=(0,u.useState)(),[l,f]=(0,u.useState)(!1),[_,p]=(0,u.useState)(!1),v=(0,u.useCallback)(()=>{f(!0),p(!1);let t=j((0,i.Z)());(null==n?void 0:n.displayName)!==void 0&&t.members._memberId(null==n?void 0:n.displayName).info_json.$get().then(async n=>{null!==n&&s(n)}).catch(n=>{console.log(n)}).finally(()=>f(!1))},[n]);if((0,u.useEffect)(()=>{(null==n?void 0:n.displayName)!==void 0&&(v(),console.log(e))},[v,e,n]),!n)return t.push("/admin/login"),(0,c.jsx)("div",{children:"redirecting..."});let g=async()=>{confirm("Logout?")&&await (0,m.k)()};return console.log(e),(0,c.jsxs)("div",{className:b().container,children:[(0,c.jsx)(a(),{children:(0,c.jsx)("title",{children:"Admin | INIAD.ts"})}),(0,c.jsx)("h1",{children:"# Admin"}),(0,c.jsx)(r(),{href:"/admin/members",className:b().button,children:(0,c.jsx)("div",{children:"ユーザーの追加・一覧"})}),(0,c.jsx)(r(),{href:"/admin/profile",className:b().button,children:(0,c.jsx)("div",{children:"プロフィールの編集"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"ユーザー情報"}),(0,c.jsxs)("p",{children:["ユーザー名: ",null==n?void 0:n.displayName]}),(0,c.jsxs)("p",{children:["写真URL",null==n?void 0:n.photoURL]}),(0,c.jsxs)("p",{children:["ユーザーID: ",null==n?void 0:n.id]}),(0,c.jsxs)("p",{children:["githubID:",n.githubid]}),(0,c.jsx)("button",{onClick:g,children:"ログアウト"})]})]})}},7251:function(n,t,e){"use strict";e.d(t,{_:function(){return s},k:function(){return a}});var c=e(4857),i=e(328),o=e(3377);let s=async()=>{let n=new c.GH;n.addScope("read:user"),await (0,c.rh)((0,i.l)(),n).catch(o.F)},a=async()=>{await (0,i.l)().signOut()}},6841:function(n){n.exports={container:"admin_container__kldCJ",button:"admin_button__mf6eF"}},9008:function(n,t,e){n.exports=e(2636)}},function(n){n.O(0,[774,888,179],function(){return n(n.s=7077)}),_N_E=n.O()}]);